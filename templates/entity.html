{% extends "base.html" %}

{% block title %}Entidade {{ entity['designacao'] }}{% endblock %}

{% block content %}
<h2>Detalhes da Entidade</h2>

<div class="entity-details">
    <p><strong>NIF:</strong> {{ entity['NIFAdjudicante'] }}</p>
    <p><strong>Designação:</strong> {{ entity['designacao'] }}</p>
</div>

<h3>Contratos Associados</h3>
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Objeto</th>
            <th>Valor</th>
            <th>Data</th>
        </tr>
    </thead>
    <tbody>
        {% for contract in contracts %}
        <tr>
            <td><a href="{{ url_for('contract', id=contract['IdContrato']) }}">{{ contract['IdContrato'] }}</a></td>
            <td>{{ contract['ObjetivoContrato'] }}</td>
            <td>{{ contract['preco'] }} €</td>
            <td>{{ contract['DataPublicacao'] }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="4">Nenhum contrato associado.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<a href="{{ url_for('entity_list') }}">← Voltar à lista</a>
{% endblock %}
