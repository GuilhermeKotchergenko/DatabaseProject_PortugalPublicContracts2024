{% extends "base.html" %}

{% block title %}Interrogação SQL - {{ titulo if titulo else '' }}{% endblock %}

{% block content %}
<h2>{{ titulo if titulo else 'Interrogação SQL' }}</h2>

{% if error %}
    <div class="alert alert-danger" role="alert">
        <strong>Erro:</strong> {{ error }}
    </div>
{% endif %}

{% if results %}
    <h4>Resultados</h4>
    {% if results|length > 0 %}
        <table class="table table-striped table-sm">
            <thead class="table-dark">
                <tr>
                    {% for col in results[0].keys() %}
                        <th>{{ col }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in results %}
                <tr>
                    {% for col in row.keys() %}
                        <td>{{ row[col] }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p><em>Nenhum resultado encontrado.</em></p>
    {% endif %}
{% else %}
    <p>Escolha uma pergunta no menu "Interrogações SQL".</p>
{% endif %}
{% endblock %}